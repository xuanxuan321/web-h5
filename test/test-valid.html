<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>haha </title>
  </head>
  <style media="screen">
    *{
      padding: 0;
      margin: 0
    }
    .component{
      background-color: red;
      height: 50px;
      width: 50%;
      margin-bottom: 20px;
      display: none;

    }
  </style>
  <script type="text/javascript" src="../js/lib/jquery.js"></script>
  <script type="text/javascript" src="../js/lib/jquery-ui.min.js"></script>
  <script type="text/javascript" src="../js/lib/jquery.fullPage.js"></script>
  <script type="text/javascript">
    $(function(){
      $("#h5").fullpage({
        sectionsColor:['pink','blue','yellow','green'],
        onLeave:function(index,nextIndex,diretion){
          $('#h5').find('.page').eq(index-1).trigger('onLeave')
        },
      afterLoad:function(anchorLink,index){
            $('#h5').find('.page').eq(index-1).trigger('afterLoad')
      }

    });

        $('.page').on('onLeave',function(){
          console.log($(this).attr('id'),'==>','onLeave');
          $(this).find(".component").triggerHandler('onLeave')
        });
        $('.page').on('afterLoad',function(){
          console.log($(this).attr('id'),'==>','afterLoad');
          $(this).find(".component").triggerHandler('afterLoad')
        });
        $('.component').on('onLeave',function(){
          $(this).fadeOut();

        });
        $('.component').on('afterLoad',function(){
         $(this).fadeIn();

        });
    })
  </script>
  <body>
    <div id="h5">

    <div class="page section" id="page-1">
      <div class="component logo slide" >
        logo
      </div>
      <div class="component slogan slide">
        slogan
      </div>
    </div>
    <div class="page section" id="page-2">
      <div class=" component desc">
        描述信息
      </div>
    </div>
    <div class="page section" id="page-3">
      <div class="component bar">
        柱状图
      </div>
    </div>
  </div>
  </body>
</html>
